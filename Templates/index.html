<!DOCTYPE html>
<html>
<head>
    <title>Gestor de Tareas Web</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <div class="container">
        <h1>ğŸ“‹ Gestor de Tareas</h1>

        <!-- Formulario para agregar tarea -->
        <form action="/agregar" method="post">
            <input type="text" name="descripcion" placeholder="Nueva tarea" required>
            <button type="submit">Agregar</button>
        </form>

        <!-- Filtros -->
        <form method="get" action="/">
            <label><input type="checkbox" name="completadas" value="1" {% if request.args.get('completadas') %}checked{% endif %}> Completadas</label>
            <label><input type="checkbox" name="pendientes" value="1" {% if request.args.get('pendientes') %}checked{% endif %}> Pendientes</label>
            <label><input type="checkbox" name="hoy" value="1" {% if request.args.get('hoy') %}checked{% endif %}> Hoy</label>
            <label><input type="checkbox" name="ascendente" value="1" {% if request.args.get('ascendente') %}checked{% endif %}> Ascendente</label>
            <button type="submit">Filtrar</button>
        </form>

        <!-- BotÃ³n para limpiar filtros -->
        <form method="get" action="/">
            <button type="submit">ğŸ”„ Ver todas las tareas</button>
        </form>

        <!-- Lista de tareas -->
        <ul>
            {% for tarea in tareas %}
                <li>
                    <div class="tarea-contenido">
                        <span class="{{ 'completada' if tarea.completada else 'pendiente' }}">
                            {{ loop.index }}. {{ tarea.descripcion }}
                            <br>
                            <small>{{ tarea.fecha_formateada }}</small>
                        </span>
                    </div>
                    <div class="tarea-iconos">
                        {% if not tarea.completada %}
                            <a href="/completar/{{ loop.index }}">âœ…</a>
                        {% else %}
                            <a href="/desmarcar/{{ loop.index }}">ğŸ”„</a>
                        {% endif %}
                            <a href="/eliminar/{{ loop.index }}">ğŸ—‘ï¸</a>
                    </div>
                </li>
            {% endfor %}
        </ul>
        <footer>
            <p>Desarrollado por <a href="https://www.linkedin.com/in/luis-paisio" target="_blank">Luis Paisio</a></p>
        </footer> 

    </div>
</body>
</html>
